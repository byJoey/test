[custom]
enable_rule_generator=true
overwrite_original_rules=true

# ------------------- Rule Providers -------------------
ruleset=DIRECT,https://raw.githubusercontent.com/tindy2013/subconverter/master/base/rules/LocalAreaNetwork.list
ruleset=Scholar,https://raw.githubusercontent.com/dler-io/Rules/main/Surge/Surge%203/Provider/Scholar.list
ruleset=AdBlock,https://raw.githubusercontent.com/dler-io/Rules/main/Surge/Surge%203/Provider/AdBlock.list
ruleset=Netflix,https://raw.githubusercontent.com/dler-io/Rules/main/Surge/Surge%203/Provider/Media/Netflix.list
ruleset=Spotify,https://raw.githubusercontent.com/dler-io/Rules/main/Surge/Surge%203/Provider/Media/Spotify.list
ruleset=Disney,https://raw.githubusercontent.com/dler-io/Rules/main/Surge/Surge%203/Provider/Media/Disney%20Plus.list
ruleset=YouTube,https://raw.githubusercontent.com/dler-io/Rules/main/Surge/Surge%203/Provider/Media/YouTube.list
ruleset=YouTube,https://raw.githubusercontent.com/dler-io/Rules/main/Surge/Surge%203/Provider/Media/YouTube%20Music.list
ruleset=Max,https://raw.githubusercontent.com/dler-io/Rules/main/Surge/Surge%203/Provider/Media/Max.list

ruleset=!!import:https://gist.githubusercontent.com/tindy2013/1fa08640a9088ac8652dbd40c5d2715b/raw/lhie1_cntv.list
ruleset=!!import:https://gist.githubusercontent.com/tindy2013/1fa08640a9088ac8652dbd40c5d2715b/raw/lhie1_appletv.list
ruleset=!!import:https://gist.githubusercontent.com/tindy2013/1fa08640a9088ac8652dbd40c5d2715b/raw/lhie1_asiantv.list
ruleset=!!import:https://gist.githubusercontent.com/tindy2013/1fa08640a9088ac8652dbd40c5d2715b/raw/lhie1_globaltv.list

ruleset=Telegram,https://raw.githubusercontent.com/dler-io/Rules/main/Surge/Surge%203/Provider/Telegram.list
ruleset=Steam,https://raw.githubusercontent.com/dler-io/Rules/main/Surge/Surge%203/Provider/Steam.list
ruleset=Speedtest,https://raw.githubusercontent.com/dler-io/Rules/main/Surge/Surge%203/Provider/Speedtest.list
ruleset=PayPal,https://raw.githubusercontent.com/dler-io/Rules/main/Surge/Surge%203/Provider/PayPal.list
ruleset=Microsoft,https://raw.githubusercontent.com/dler-io/Rules/main/Surge/Surge%203/Provider/Microsoft.list
ruleset=Netease Music,https://raw.githubusercontent.com/dler-io/Rules/main/Surge/Surge%203/Provider/Media/Netease%20Music.list
ruleset=DIRECT,https://raw.githubusercontent.com/dler-io/Rules/main/Surge/Surge%203/Provider/Special.list
ruleset=Proxies,https://raw.githubusercontent.com/dler-io/Rules/main/Surge/Surge%203/Provider/Proxy.list
ruleset=Domestic,https://raw.githubusercontent.com/dler-io/Rules/main/Surge/Surge%203/Provider/Domestic.list

ruleset=Apple,https://raw.githubusercontent.com/dler-io/Rules/main/Surge/Surge%203/Provider/Apple.list
ruleset=Crypto,https://raw.githubusercontent.com/dler-io/Rules/main/Surge/Surge%203/Provider/Crypto.list
ruleset=Discord,https://raw.githubusercontent.com/dler-io/Rules/main/Surge/Surge%203/Provider/Discord.list
ruleset=Google FCM,https://raw.githubusercontent.com/dler-io/Rules/main/Surge/Surge%203/Provider/Google%20FCM.list
ruleset=AI Suite,https://raw.githubusercontent.com/dler-io/Rules/main/Surge/Surge%203/Provider/AI%20Suite.list
ruleset=miHoYo,https://raw.githubusercontent.com/dler-io/Rules/main/Surge/Surge%203/Provider/miHoYo.list

# GEOIP / MATCH
ruleset=国内直连,[]GEOIP,CN
ruleset=其他,[]MATCH

# ------------------- Proxy Groups -------------------

# 负载均衡
custom_proxy_group=⚖️ 负载均衡-散列`load-balance`.*`http://www.google.com/generate_204`300
custom_proxy_group=⚖️ 负载均衡-轮询`load-balance`.*`http://www.google.com/generate_204`300

# 延迟测速
custom_proxy_group=自动测速`url-test`.*`http://cp.cloudflare.com/generate_204`1800

# 总控大组
custom_proxy_group=代理`select`[]⚖️ 负载均衡-散列`[]⚖️ 负载均衡-轮询`[]自动测速`[]DIRECT`.*
custom_proxy_group=国内`select`[]DIRECT`[]代理
custom_proxy_group=学术`select`[]DIRECT`[]代理`.*
custom_proxy_group=其他`select`[]代理`[]DIRECT
custom_proxy_group=广告拦截`select`[]REJECT`[]DIRECT`[]代理
custom_proxy_group=苹果`select`[]DIRECT`[]代理

custom_proxy_group=中国大陆电视`select`[]DIRECT`[]代理`(港|HK|台|TW)
custom_proxy_group=苹果电视`select`[]代理`[]DIRECT`.*
custom_proxy_group=亚洲电视`select`[]DIRECT`[]代理`(港|HK|台|TW)
custom_proxy_group=全球电视`select`[]代理`[]DIRECT`.*

custom_proxy_group=迪士尼`select`[]代理`[]DIRECT
custom_proxy_group=YouTube`select`[]代理`[]DIRECT
custom_proxy_group=Max`select`[]代理`[]DIRECT
custom_proxy_group=Netflix`select`[]代理`[]DIRECT`.*
custom_proxy_group=Spotify`select`[]代理`[]DIRECT`.*

custom_proxy_group=电报`select`[]代理`[]DIRECT`.*
custom_proxy_group=Steam`select`[]代理`[]DIRECT
custom_proxy_group=测速`select`[]代理`[]DIRECT`[]国内`.*
custom_proxy_group=PayPal`select`[]DIRECT`[]代理
custom_proxy_group=微软`select`[]代理`[]DIRECT
custom_proxy_group=网易云音乐`select`[]DIRECT`[]代理`(网易云|解锁)

custom_proxy_group=加密货币`select`[]代理`[]DIRECT
custom_proxy_group=Discord`select`[]代理`[]DIRECT
custom_proxy_group=Google FCM`select`[]代理`[]DIRECT
custom_proxy_group=AI 套件`select`[]代理`[]DIRECT
custom_proxy_group=米哈游`select`[]代理`[]DIRECT

# ------------------- Surge 规则基底 -------------------
surge_rule_base=https://gist.githubusercontent.com/tindy2013/1fa08640a9088ac8652dbd40c5d2715b/raw/lhie1_surge.conf

# =======================================================================
# 以下 YAML 区块仅作用于 Clash (Premium/Meta) 输出
# =======================================================================
yaml:
  append-proxy-groups:
    - name: ⚖️ 负载均衡-散列
      type: load-balance
      url: 'http://www.google.com/generate_204'
      interval: 300
      strategy: consistent-hashing
    - name: ⚖️ 负载均衡-轮询
      type: load-balance
      url: 'http://www.google.com/generate_204'
      interval: 300
      strategy: round-robin
  commands:
    - proxy-groups.⚖️ 负载均衡-散列.proxies=[]proxyNames
    - proxy-groups.0.proxies.0+⚖️ 负载均衡-散列
    - proxy-groups.⚖️ 负载均衡-轮询.proxies=[]proxyNames
    - proxy-groups.0.proxies.0+⚖️ 负载均衡-轮询
